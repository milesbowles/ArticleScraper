{{!-- Templating for all Articles --}} {{!-- Iterate Over all the articles --}} 
{{#each articles}}
<!-- Article Template -->
<article class="singleArticle" href="{{link}}">
  <div class="cover" style="background-image: url('{{image}}')">
    <div class="category">Science</div>
  </div>
  <div class="content">
    <h1>{{title}}</h1>
    <p>{{subtitle}}</p>
    <div class="postMeta">
      <span class="comments">
        <a href="#comment-{{_id}}">
          <i class="tiny material-icons">comment</i>
          Comments
        </a>
      </span>
      <span class="link">
        <a href="{{link}}">
          <i class="tiny material-icons">chrome_reader_mode</i>
          Read Article
        </a>
      </span>
    </div>
  </div>
</article>

<!-- Comment Modal -->
<div id="comment-{{_id}}" class="modal modal-fixed-footer">
  <div class="modal-content">
    <h2>Comments</h2>
    <br><br>
    {{!-- Check for comments --}} 
    {{#if comments}} 
      {{!-- Comment card template --}}
      {{#each comments}}
        <br>
        <div class="row">
          <div class="col s12 m6">
            <div class="card blue-grey darken-1">
              <div class="card-content white-text">
                <span class="card-title">{{name}}</span>
                <p>{{comment}}</p>
              </div>
              <div class="card-action">
                <a class="delete-comment-btn" data-id="{{_id}}" action="remove/comment/{{_id}}" method="post">Delete</a>
              </div>
            </div>
          </div>
        </div>
      {{/each}}
    {{else}}
      <br>
      <h4>Be the first to leave a comment</h4>
    {{/if}}
  </div>
  {{!-- Comment input  --}}
  <div class="modal-footer">
    <div class="row">
      <form class="comment-{{_id}} col s12" action="add/comment/{{_id}}" method="post">
        <div class="input-field col s4 offset-s1">
          <input placeholder="Name" id="name" name="name" type="text" class="validate">
        </div>
        <div class="input-field col s4">
          <input placeholder="Comment" id="comment" name="comment" type="text" class="validate">
        </div>
        <a class="col s2 modal-action modal-close waves-effect waves-green btn-flat submit-comment-btn" data-id="{{_id}}" type="submit" value="Submit">Submit</a>
      </form>
    </div>
  </div>
</div>
{{/each}}